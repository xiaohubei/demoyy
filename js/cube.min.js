var cb={};cb.events={},cb.events.on=function(a,b,c){if(a&&b){this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);d.push({callback:b,context:c})}},cb.events.un=function(a,b){if(a&&this._events&&this._events[a])if(b){var c=this._events[a].findIndex(function(a){return a.callback===b?!0:void 0});-1!==c&&this._events[a].removeData(this._events[a][c])}else delete this._events[a]},cb.events.hasEvent=function(a){return a?this._events&&this._events[a]&&this._events[a].length:void 0},cb.events.execute=function(a){if(a){var b=this._events?this._events[a]:null;if(!b)return!0;var c=!0,d=Array.prototype.slice.call(arguments,1);return b.forEach(function(a){c=a.callback.apply(a.context||this,d)===!1?!1:c},this),c}},cb.widgets={},cb.widgets.register=function(a,b){return cb.widgets[a]?void console.error("widgetType "+a+"已注册"):void(cb.widgets[a]=b(a))},cb.widgets.register("BaseWidget",function(a){var b=function(a,b){var c={id:a,elem:$("#"+a),options:b};this._get_data=function(a){return c[a]},this._set_data=function(a,b){c[a]=b}};return b.prototype.widgetType=a,b.prototype.getId=function(){return this._get_data("id")},b.prototype.getElement=function(){return this._get_data("elem")},b.prototype.getConfig=function(){return this._get_data("options")},b.prototype.getLazyLoadThreshold=function(){return 0},b.prototype.getProxyData=function(){return this.getConfig()},b.prototype.getTemplate=function(){return this.getElement().find("script").html()},b.prototype.render=function(a,b){var c=this.getTemplate(),d="string"==typeof c?c:c.html();b===!1&&template.config("escape",!1);var e=template.compile(d);return b===!1&&template.config("escape",!0),e(a)},b}),$.extend(cb.widgets.BaseWidget.prototype,cb.events),cb.views={},cb.views.register=function(a,b){cb.views[a]=b(a)},cb.views.register("BaseView",function(a){var b=function(a){var b={view:$("[data-controller="+this.controllerName+"]"),widgets:a};this._get_data=function(a){return b[a]},this._set_data=function(a,c){b[a]=c}};return b.prototype.controllerName=a,b.prototype.getView=function(){return this._get_data("view")},b.prototype.getWidgets=function(){return this._get_data("widgets")},b.prototype.getWidget=function(a){return this.getWidgets()[a]},b.prototype.run=function(){var a,b,c=this.getWidgets(),d=this.getProxyData,e=cb.rest.MergeProxy.create();for(var f in c)if(a=c[f],b=a.getElement(),!b.hasClass("widgetHasLoaded")&&(cb.rest.AppContext.simulate||cb.util.isElementInViewport(b.get(0),a.getLazyLoadThreshold())))if(b.addClass("widgetHasLoaded"),a.getProxy){var g=a.getProxy();if(g){var h=a.getProxyData();if(d){var i=d.call(this,f);i&&(h=i)}var j=null;a.runTemplate&&(j=a.runTemplate),e.add(g,h,j,a)}}else a.runTemplate&&a.runTemplate();e.submit()},b.prototype.render=function(a,b,c){var d="string"==typeof a?a:a.html();c===!1&&template.config("escape",!1);var e=template.compile(d);return c===!1&&template.config("escape",!0),e(b)},b}),$.extend(cb.views.BaseView.prototype,cb.events),cb.registerTemplate=function(){template.config("openTag","<#"),template.config("closeTag","#>"),template.helper("adjustImgSrc",function(a){return cb.util.adjustImgSrc(a)}),template.helper("adjustAttachPath",function(a){return cb.util.adjustAttachPath(a)}),template.helper("formatDate",function(a,b){return cb.util.formatDate(a,b)}),template.helper("formatMoney",function(a){return cb.util.formatMoney(a)})},cb.init=function(){cb.rest.ContextBuilder.construct(cb.initInner)},cb.initInner=function(){$(document).on("click","a",function(a){var b=cb.rest.AppContext.token,c=cb.data.CookieParser.getCookie("token");if(b&&c&&b!==c)a.preventDefault(),location.reload();else if(cb.rest.AppContext.corpAlias){var d=new cb.util.queryString($(this).attr("href"));d.set("corpalias",cb.rest.AppContext.corpAlias),$(this).attr("href",d.pathname+d.toStr())}}),cb.registerTemplate();var a="data-controller",b=document.querySelectorAll("["+a+"]");if(1===b.length){var c=b[0].getAttribute(a),d=cb.views[c];if(d){for(var e,f,g,h,i,j,k="id",l="data-name",m="data-type",n="data-config",o={},p=document.querySelectorAll("["+m+"]"),q=0,r=p.length;r>q;q++){e=p[q],f=e.getAttribute(k),g=e.getAttribute(l),h=e.getAttribute(m),i=cb.data.JsonSerializer.deserialize(e.getAttribute(n)),f||(f=g,e.setAttribute(k,f));var s=cb.widgets[h];s&&(j=new s(f,i),o[g]=j)}var t=new d(o);t.run();var u=0,v=null;$(window).scroll(function(a){null===v&&(v=setInterval(function(){$(a.target).scrollTop()===u&&(t.run(),clearInterval(v),v=null)},1e3)),u=$(a.target).scrollTop()}),t.init&&t.init()}}},cb.getNewId=function(a){a=a||"newId";var b=(cb.cache.newIds.get(a)||0)+1;return cb.cache.newIds.set(a,b),a+"_"+b},cb.cache={get:function(a){return this[a]},set:function(a,b){this[a]=b},clear:function(){for(var a in this)"get"!==a&&"set"!==a&&"clear"!==a&&delete this[a]}},cb.cache.newIds={get:cb.cache.get,set:cb.cache.set,clear:cb.cache.clear},cb.rest={},cb.rest.loadImage=function(a,b){function c(){a.attr("src",b)}a=$(a),b=cb.util.adjustImgSrc(b);var d=(new Date).valueOf();b+=b.indexOf("?")<0?"?_="+d:"&_="+d;var e=new Image;e.onload=c,e.onerror=c,e.src=b},cb.rest.ContextBuilder={construct:function(a){var b=new cb.util.queryString,c={serviceUrl:location.protocol+"//"+location.host,simulate:b.get("simulate"),corpAlias:b.get("corpalias")};if(cb.rest.AppContext=c,"true"===b.get("preview")&&(cb.rest.AppContext.preview=!0),cb.rest.AppContext.cUserName=cb.data.CookieParser.getCookie("cUserName"),cb.rest.AppContext.token=cb.data.CookieParser.getCookie("token"),cb.rest.AppContext.inviteCode=cb.data.CookieParser.getCookie("inviteCode"),cb.rest.AppContext.promotCode=cb.data.CookieParser.getCookie("promotCode"),a(),window.cookieUtil){var d=cb.rest.DynamicProxy.create({getMemberInfoByToken:{url:"member/Members/getMemberByToken",method:"GET",options:{token:!0}}});d.getMemberInfoByToken(function(a,b){window.logger&&b&&logger(window,document,void 0,void 0,void 0,void 0,b.iCorpId,b.id,document.URL)})}return;var d},promotion:function(){var a=new cb.util.queryString(location.search.toLocaleLowerCase()),b=a.get("invitecode"),c=a.get("promotcode");if(b||c){return cb.data.CookieParser.delCookie("inviteCode"),cb.data.CookieParser.delCookie("promotCode"),b&&cb.data.CookieParser.setCookie("inviteCode",b),void(c&&cb.data.CookieParser.setCookie("promotCode",c))}}},cb.rest._getUrl=function(a,b){var c=cb.rest.AppContext,d=new cb.util.queryString(a);return d.set("terminaltype","PC"),("IE"===cb.util.browser()||b&&b.refresh)&&d.set("_",(new Date).valueOf()),b&&b.token&&d.set("token",c.token||""),c&&c.preview&&d.set("preview",c.preview),c&&c.corpAlias&&d.set("corpalias",c.corpAlias),a=d.pathname+d.toStr(),a.indexOf("http://")<0&&("/"!==a.substr(0,1)&&(a="/"+a),a=c.serviceUrl+a),a},cb.rest._appendUrl=function(a,b){if(!b)return a;var c=[];for(var d in b)c.push(d+"="+b[d]);if(!c.length)return a;var e=c.join("&");return a.indexOf("?")>=0?a+"&"+e:a+"?"+e},cb.rest.DynamicProxy=function(a){this.init&&this.init(a)},cb.rest.DynamicProxy.create=function(a){return new cb.rest.DynamicProxy(a)},cb.rest.DynamicProxy.prototype.init=function(a){if(a){this.config=a;for(var b in this.config)this[b]=function(a){return function(b,c,d){return this.Do(a,b,c,null,d)}}(b),this[b+"Sync"]=function(a){return function(b){return this.Do(a,b,null,!1)}}(b)}},cb.rest.DynamicProxy.prototype.Do=function(a,b,c,d,e){if(this.config&&this.config[a]&&this.config[a].url){var f=this.config[a],g=f.url,h=$.extend({},f.options);return h.method=f.method||"GET","function"==typeof b?(h.callback=b,h.context=e||h.context||this):h.params=b,c&&(h.callback=c,h.context=e||h.context||this),d===!1&&(h.async=!1),this.ajax(g,h)}},cb.rest.DynamicProxy.prototype.ajax=function(a,b){return cb.rest.ajax(a,b)},cb.rest.MergeProxy=function(){var a={datas:[],events:[]};this.add=function(a,b,c,d){if($.isArray(a)){var e=a.length;if($.isArray(b)){if(b.length===e)for(var f=0;e>f;f++)this.addInner(a[f],b[f],c,d)}else for(var f=0;e>f;f++)this.addInner(a[f],b,c,d)}else this.addInner(a,b,c,d)},this.addInner=function(b,c,d,e){var f,g=b.method.toLocaleUpperCase(),h=cb.rest._getUrl(b.url,b.options);"GET"===g||"DELETE"===g?(h=cb.rest._appendUrl(h,c),f=null):f=c,a.datas.push({requestUrl:h,requestMethod:g,requestData:f}),a.events.push({callback:d,context:e})},this.submit=function(b){if(a.datas.length){var c=cb.rest.DynamicProxy.create({BatchSubmit:{url:"client/batchSubmit",method:"POST"}});c.BatchSubmit(a.datas,function(c,d){if(b)return void b(c,d);if(c)return void alert("合并请求提交失败: "+c);var e=d&&d.length;if(e){for(var f=0;e>f;f++){var g=a.events[f];g&&cb.rest.AjaxRequestManager.processAjaxResult(d[f],g.callback,g.context)}cb.rest.AppContext.simulate&&setTimeout(function(){$(document.body).append('<div class="readyForCrawler"></div>')},3e3)}})}}},cb.rest.MergeProxy.create=function(){return new cb.rest.MergeProxy},cb.rest.ajax=function(a,b){return b.url=a,cb.rest.AjaxRequestManager.doRequest(b)},cb.rest.AjaxRequestManager={_xhrs:[],doRequest:function(a){var b=this.getXMLHttpRequest();if(b){var c=a.method||"GET",d=cb.rest._getUrl(a.url,a),e=null;if(c.equalsIgnoreCase("get")||c.equalsIgnoreCase("delete")?d=cb.rest._appendUrl(d,a.params):(c.equalsIgnoreCase("post")||c.equalsIgnoreCase("put"))&&(e=cb.data.JsonSerializer.serialize(a.params)),b.open(c,d,a.async===!1?!1:!0),b.setRequestHeader("Content-Type","application/json;charset=utf-8"),b.send(e),a.async===!1)return this.onreadystatechange(b,a);b.onreadystatechange=function(){cb.rest.AjaxRequestManager.onreadystatechange(this,a)},a.mask===!0&&cb.util.loadingControl.start()}},onreadystatechange:function(a,b){if(4===a.readyState){if(b.mask===!0&&cb.util.loadingControl.end(),200===a.status){var c=cb.data.JsonSerializer.deserialize(a.responseText);cb.rest.AjaxRequestManager.processAjaxResult(c,b.callback,b.context,b)}a.isBusy=!1}},getXMLHttpRequest:function(){for(var a,b=0,c=this._xhrs.length;c>b;b++)if(!this._xhrs[b].isBusy){a=this._xhrs[b];break}return a||(a=this.createXMLHttpRequest(),this._xhrs.push(a)),a.isBusy=!0,a},createXMLHttpRequest:function(){var a=window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;return a},processAjaxResult:function(a,b,c,d){if(a&&a.code)if(200==a.code)b&&b.call(c,null,a.data);else{if(900===a.code&&d&&d.token&&d.autoLogin!==!1)return void cb.route.redirectLoginPage();b&&b.call(c,a)}}},cb.data={},cb.data.JsonSerializer={serialize:function(a){if(!a)return null;if(window.JSON&&JSON.stringify)return JSON.stringify(a);var b=typeof a;return"string"===b||"number"===b||"boolean"===b?a:a.constructor===Array?this._innerSerialize(a):this._innerSerializeObj(a)},_innerSerializeObj:function(a){var b=[];for(var c in a)"function"!=typeof a[c]&&b.push('"'+c+'":'+this._innerSerialize(a[c]));return"{"+b.join(",")+"}"},_innerSerialize:function(a){if(cb.util.isEmpty(a))return null;var b=typeof a;if("number"===b||"boolean"===b)return a;if(a.constructor===Array){var c=[];return a.forEach(function(a){c.push(this._innerSerialize(a))},this),"["+c.join(",")+"]"}return"object"===b?this._innerSerializeObj(a):'"'+a+'"'},deserialize:function(data){return data?window.JSON&&JSON.parse?JSON.parse(data):eval("("+data.replace(/\r\n/g,"")+")"):null}},cb.data.SecurityParser={encrypt:function(a,b){var c=cb.data.JsonSerializer.serialize(a),d=CryptoJS.enc.Utf8.parse(CryptoJS.MD5(c)).toString();localStorage.setItem("AESKey",d);var e=cryptico.encrypt(d,b).cipher,f=CryptoJS.AES.encrypt(c,d).toString();return{encryptedKey:e,encryptedData:f}},decrypt:function(a){var b=localStorage.getItem("AESKey"),c=CryptoJS.AES.decrypt(a,b),d=cb.data.JsonSerializer.deserialize(c.toString(CryptoJS.enc.Utf8));return d},signature:function(a){var b=[localStorage.getItem("AESKey"),cb.data.JsonSerializer.serialize(a)],c=CryptoJS.SHA1(b.join("")).toString();return c}},cb.data.CookieParser={setCookie:function(a,b,c){cb.rest.AppContext.corpAlias&&(a=cb.rest.AppContext.corpAlias+"_"+a),null==c&&(c=30);var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3),document.cookie=a+"="+escape(b)+";expires="+d.toGMTString()},getCookie:function(a){cb.rest.AppContext.corpAlias&&(a=cb.rest.AppContext.corpAlias+"_"+a);var b,c=new RegExp("(^|)"+a+"=([^;]*)(;|$)");return(b=document.cookie.match(c))?unescape(b[2]):null},delCookie:function(a){cb.rest.AppContext.corpAlias&&(a=cb.rest.AppContext.corpAlias+"_"+a);var b=new Date;b.setTime(b.getTime()-1);var c=this.getCookie(a);null!=c&&(document.cookie=a+"="+c+";expires="+b.toGMTString())}},cb.route={redirectLoginPage:function(){location.href="/login?returnUrl="+encodeURIComponent(location.href)}},cb.util={isEmpty:function(a){return null===a||void 0===a},isElementInViewport:function(a,b){var c=window.innerWidth,d=window.innerHeight;"number"!=typeof c&&("CSS1Compat"===document.compatMode?(c=document.documentElement.clientWidth,d=document.documentElement.clientHeight):(c=document.body.clientWidth,d=document.body.clientHeight));var e=a.getBoundingClientRect();return e.top>=0-b&&e.left>=0-b&&e.top<=d+b&&e.left<=c+b},queryString:function(a){this.pathname="",this.query={},this.init=function(){a||(a=location.search);var b=a.indexOf("?"),c=a.indexOf("#");if(b>=0){if(this.pathname=a.substr(0,b),a=0>c?a.substr(b+1):a.substring(b+1,c),a.length>0){a=a.replace(/\+/g," ");for(var d=a.split("&"),e=0,f=d.length;f>e;e++){var g=d[e].split("="),h=decodeURIComponent(g[0]),i=2==g.length?decodeURIComponent(g[1]):h;this.query[h]=i}}}else this.pathname=a},this.set=function(a,b){this.query[a]=b},this.get=function(a){return this.query[a]},this.has=function(a){return null!=this.query[a]},this.toStr=function(){var a=["?"];for(var b in this.query)a.push(encodeURIComponent(b)),a.push("="),a.push(encodeURIComponent(this.query[b])),a.push("&");return 1===a.length?"":(a.removeAt(a.length-1),a.join(""))},this.init()},localStorage:{setItem:function(a,b){return cb.rest.AppContext.corpAlias?void localStorage.setItem(cb.rest.AppContext.corpAlias+"_"+a,b):void localStorage.setItem(a,b)},getItem:function(a){return cb.rest.AppContext.corpAlias?localStorage.getItem(cb.rest.AppContext.corpAlias+"_"+a):localStorage.getItem(a)},removeItem:function(a){return cb.rest.AppContext.corpAlias?void localStorage.removeItem(cb.rest.AppContext.corpAlias+"_"+a):void localStorage.removeItem(a)}},permutate:function(a,b){if(b||(b=[]),a.length>1){var c=a.shift();this.permutate(a,b);for(var d=0,e=b.length;e>d;d++)for(var f=b.shift(),g=0,h=f.length;h>=g;g++){var i=f.slice(0);i.splice(g,0,c),b.push(i)}}else b.push([a[0]]);return b},adjustImgSrc:function(a){if(!a)return a;var b=a.replace(/\\/g,"/");return cb.rest.AppContext.ImageServer&&(b="/"===b.substr(0,1)?cb.rest.AppContext.ImageServer+b:cb.rest.AppContext.ImageServer+"/"+b),b},adjustAttachPath:function(a){return a?a.replace(/\\/g,"/"):a},formatDate:function(a,b){if(!a)return a;b||(b="yyyy-MM-dd"),a=a.split(" "),a=a[0].replace(/-/g,"/");var c=new Date(a),d={"M+":c.getMonth()+1,"d+":c.getDate(),"h+":c.getHours(),"m+":c.getMinutes(),"s+":c.getSeconds(),"q+":Math.floor((c.getMonth()+3)/3),S:c.getMilliseconds()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(c.getFullYear()+"").substr(4-RegExp.$1.length)));for(var e in d)new RegExp("("+e+")").test(b)&&(b=b.replace(RegExp.$1,1==RegExp.$1.length?d[e]:("00"+d[e]).substr((""+d[e]).length)));return b},formatMoney:function(a){return a||(a=0),"number"!=typeof a&&(a=parseFloat(a)),"￥"+a.toFixed(2)},browser:function(){return window.ActiveXObject||"ActiveXObject"in window?"IE":null},loadingControl:{_handler:document.querySelectorAll(".loadingControl"),start:function(){this._handler.length||"DIV"===this._handler.tagName||(this._handler=document.createElement("div"),this._handler.setAttribute("class","loadingControl"),this._handler.style.position="fixed",this._handler.style.top=0,this._handler.style.right=0,this._handler.style.bottom=0,this._handler.style.left=0,this._handler.style.zIndex=1e4,this._handler.style.background='url("./img/load.gif") no-repeat 50% 50%',document.body.appendChild(this._handler)),"none"===this._handler.style.display&&(this._handler.style.display="block")},end:function(){this._handler&&"none"!==this._handler.style.display&&(this._handler.style.display="none")}},clickTimeout:{_timeout:null,set:function(a){this.clear(),this._timeout=setTimeout(a,300)},clear:function(){this._timeout&&clearTimeout(this._timeout)}}},String.prototype.equalsIgnoreCase=function(a){return null==a?!1:this.toLowerCase()===a.toLowerCase()},Array.prototype.removeAt=function(a){return a>=0?this.splice(a,1):void 0},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;if(null==this)throw new TypeError(" this is null or not defined");var e=Object(this),f=e.length>>>0;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(arguments.length>1&&(c=b),d=0;f>d;){var g;d in e&&(g=e[d],a.call(c,g,d,e)),d++}}),Array.prototype.some||(Array.prototype.some=function(a){"use strict";if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof a)throw new TypeError;for(var b=Object(this),c=b.length>>>0,d=arguments.length>=2?arguments[1]:void 0,e=0;c>e;e++)if(e in b&&a.call(d,b[e],e,b))return!0;return!1}),Array.prototype.filter||(Array.prototype.filter=function(a){"use strict";if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments.length>=2?arguments[1]:void 0,f=0;c>f;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e;if(null==this)throw new TypeError(" this is null or not defined");var f=Object(this),g=f.length>>>0;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(arguments.length>1&&(c=b),d=new Array(g),e=0;g>e;){var h,i;e in f&&(h=f[e],i=a.call(c,h,e,f),d[e]=i),e++}return d}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var d=Object(this),e=d.length>>>0;if(0===e)return-1;var f=+b||0;if(Math.abs(f)===1/0&&(f=0),f>=e)return-1;for(c=Math.max(f>=0?f:e-Math.abs(f),0);e>c;){if(c in d&&d[c]===a)return c;c++}return-1}),document.querySelectorAll||!function(a,b){a=document,b=a.createStyleSheet(),a.querySelectorAll=function(c,d,e,f,g){for(g=a.all,d=[],c=c.replace(/\[for\b/gi,"[htmlFor").split(","),e=c.length;e--;){for(b.addRule(c[e],"k:v"),f=g.length;f--;)g[f].currentStyle.k&&d.push(g[f]);b.removeRule(0)}return d}}(),!window.localStorage&&/MSIE/.test(navigator.userAgent)&&(window.UserData||(window.UserData=function(a){a||(a="user_data_default");var b=document.createElement("input");return b.type="hidden",b.addBehavior("#default#userData"),document.body.appendChild(b),b.save(a),this.file_name=a,this.dom=b,this},window.UserData.prototype={setItem:function(a,b){this.dom.setAttribute(a,b),this.dom.save(this.file_name)},getItem:function(a){return this.dom.load(this.file_name),this.dom.getAttribute(a)},removeItem:function(a){this.dom.removeAttribute(a),this.dom.save(this.file_name)},clear:function(){this.dom.load(this.file_name);var a=new Date;a=new Date(a.getTime()-1),this.dom.expires=a.toUTCString(),this.dom.save(this.file_name)}}),window.localStorage=new window.UserData("local_storage")),window.console||(window.console=function(){var a={};return a.log=a.warn=a.debug=a.info=a.error=a.time=a.dir=a.profile=a.clear=a.exception=a.trace=a.assert=function(){},a}()),"object"!=typeof JSON&&(JSON={},function(){"use strict";function f(a){return 10>a?"0"+a:a}function this_value(){return this.valueOf()}function quote(a){return rx_escapable.lastIndex=0,rx_escapable.test(a)?'"'+a.replace(rx_escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}());